<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../style/main.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funnies in Space</title>
</head>

<!--AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-->

<!-- Kiwi Image Src: https://www.pngitem.com/middle/JhJiRw_kiwi-bird-png-transparent-image-kiwi-bird-png/ -->

<header>
    <h1 id="#top">CSCI 5611: Project 1</h1>
    <h12 id="#top2">Noah Hendrickson (hend0800) and Chanyoung Cheong (cheon051)</h12>
</header>

<!--AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-->
<body id="bod">
    <section>
        <ul id="nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="#prm1">Part 1: PRM</a></li>
            <li><a href="#kiwispace1">Part 2: Navigation Simulation</a></li>
            <li><a href="#credits">Credits</a></li>
            <li><a href="https://github.com/Syvven/CSCI5611/tree/main/src/project1">Github Repo</a></li>
            
        </ul>
        <pe id="prm1"></pe>
    
        <hr> &nbsp;
        
        <!-- InClass Exercies #1 -->
        <article>
            <div class="card">
                <h3 id="prm">Part 1: PRM</h3>
                <!-- <h4>Exercise #1</h4>  -->
                <hr>
                <video controls autoplay loop muted src="../data/project1/part1PRM.mp4" alt="demonstartion of PRM.pde" width="600" height="450"></video>
            
                <div class="container">
                    <h4>Path Planning</h4>
                    <p> 
                        PRM.pde plans paths using a Probabilistic Roadmap. <br>
                        Random nodes are generated on the map, connected, and searched in order to find a path from start to goal. <br>
                        The start and goal nodes can be moved around using right and left click and the path changes when doing so. <br>
                        Each obstacle has a radius that represents the original obstacle's radius plus the agent's hitbox radius. <br>
                        An obstacle on the map can be moved around and the nodes will be connected and unconnected appropriately.  
                    </p>
                    <br>

                    <h4>A* Implementation</h4>
                    <p>
                        Our search algorithm of choice was the A* algorithm. <br>
                        A* produces the optimal path at times faster than UCS does by utilizing a heuristic. <br>
                        In this case the heuristic is the absolute distance from the current node to the goal--obviously admissible. <br>
                        A* consistently got us optimal paths in an average of 100-200us with 200 tests. <br>
                        This implementation of A* utilizes Java's built in PriorityQueue class along with a homemade Node class. <br>
                        The priority queues are useful to keep track of the current shortest path and the Node class is useful for keeping 
                            track of the current path cost. <br>
                        Additionally, I (Noah) already knew vaguely how to implement A* so it was a safe bet for algorithm choice. 
                            In the future I might come back and make one with RRT. (if i get the time :p)
                    </p>
                    <br>

                    <h4>Keybinds</h4>
                    <p>
                        Mouse Left Click: Move Goal Position <br>
                        Mouse Right Click: Move Start Position <br>
                        Up,Left,Right,Down: Move Circle Obstacle <br>
                        Shift: Circle Obstacle Moves Faster
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>
                        A couple challenges were encountered in the process of getting PRM.pde to work: <br>
                        > Getting the weights to transfer through the path was tough until creation of the Node class. <br>
                        > The actual searching isn't as optimal as it could be. There are a decent amount of new calls in it but
                            everytime I tried to have a different idea, it ended up being too much changing to make it worth it. <br>
                        > The biggest challenge was finding a good way to optimally connect the start and goal nodes. <br> 
                        In the end, I just added them as nodes on the graph and connected their neighbors.
                    </p>
                    <div class="source">
                        <a href="../src/project1/PRM.pde">Source Code Zip (Only PRM.pde)</a>
                    </div>
                </div>
            </div>
            <pe id="kiwispace1"></pe>
        </article>

        <article>
            <div class="card">
                <h3 id="kiwispace">Part 2: Navigation Simulation</h3>
                <hr>
                <image src="../data/project1/kiwiVoid.png" alt="kiwi staring into the void and the void staring back" width="50%" height="50%"></video>
                <h4>“Eyes as black and as shiny as chips of obsidian stared back into his. They were eyes like black holes, letting nothing out, not even information.” - Neil Gaiman</h4>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        Part 2 consists of a single agent navigation simulation. <br>
                        In the simulation, a Kiwi makes his way through a field of planets from his start spaceship to his goal spaceship. <br>
                        The simulation utilizes the PRM and A* from Part 1 in order to create and find a path. <br>
                        In addition, it adds some optimizations to solve the issue of no paths existing and makes the scenario a bit more interesting. <br>
                        More detailed information on individual parts can be found in the following sections.
                    </p>
                    <br>

                    <h4>Features</h4>
                    <p>
                        Single Agent Navigation <br> 
                        3D Rendering, Camera, Lighting <br>
                        Agent Rendered with a Model  <br>
                        Start and Goal Rendered with a Model  <br>
                        Particle System  <br>
                        Agent Orientation Smoothing <br>
                        Realtime User Interaction (kind of) <br>
                        <i>Each feature has its own section below.</i>
                    </p>
                    <br>

                    <h4>Tools Utilized</h4>
                    <p>
                        - Camera code from Professor Guy (modified) <br>
                        - Base PRM code that was provided (modified) <br>
                        - Java's built in ArrayList and PriorityQueue <br>
                        - Code on how to draw a Cylinder (somewhat modified) <br>
                        <i>A more detailed credits list is at the bottom of the page (accessible through navigation bar)</i>
                    </p>

                    <div class="source">
                        <a href="../src/project1/project1-crowds.zip">Source Code Zip (All Files)</a>
                    </div>
                </div>
            </div>
        </article>

        <article>
            <div class="card">
                <h3 id="singleagent">Single Agent Navigation</h3>
                <hr>
                <video controls autoplay loop muted src="../data/project1/" alt="demonstartion of PRM.pde" width="600" height="450"></video>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        This portion of the project utilizes the PRM and A* created in Part 1. <br>
                        A few optimizations were made in order to make movement more smooth and consistent: <br>
                        1. At every timestep along the path, the agent casts a ray to see if it can make it to the next node already. If so, it changes to going to that node. <br>
                        2. The agent does not snap its velocity to the next node, rather, slowly changes to get closer to it. <br>
                        3. If there is no path, the agent will regenerate nodes and try to find a path again. If this happens 3 times, the scene is reset. <br>
                        4. In the event of the goal node posthumosly moving into an inaccessible location, the agent will do a funny little spin until it is able to be reached again. <br>
                        <br>
                        We decided to do this because of multiple reasons: <br>
                        1. The ray casting and changing nodes makes the path look smoother and also makes it more optimal, even though it is technically more work. <br>
                        2. This makes the turning look smoother. <br>
                        3. It is no fun to see the kiwi not do anything if there is no path, so regenerating nodes and eventually resetting seemed like a good and fairly fast option. <br>
                        4. The kiwi spinning is cute and funny.<i>More info on the goal moving can be found<a href="#user">here</a></i>
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>
                        One of the biggest challenges of this portion was integrating the 2d path planning with the 3d environment. <br>
                        Taking into consideration obstacles that were above the hitbox of the kiwi and making sure the ray casting was casting properly took up some time. <br>
                        Additionally, figuring out what to do when there was no path took a bit of weighing what would be quick vs what would be good looking. <br>
                        Outside of those however, this portion was relatively challenge free. 
                    </p>
                    <br>
                </div>
            </div>
        </article>

        <article>
            <div class="card">
                <h3 id="rendering">Orientation Smoothing</h3>
                <hr>
                <video controls autoplay loop muted src="../data/project1/" alt="demonstartion of PRM.pde" width="600" height="450"></video>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        Orientation of the agent is important in having a simulation that looks good, and, lucky for us, the kiwi has a very obvious forward. <br>
                        We integrated that by having the direction his beak faces be aligned with the direction his velocity faces. <br>
                        The kiwi has a rotation variable that is incremented and decremented depending on the rotation between his current angle and angle to his velocity. <br>
                        At each timestep, his model is rotated around the Y-axis as much as the rotation variable currently is. <br>
                        This gives the look of smooth turning to his model, and, when combined with the velocity smoothing and path smoothing, makes the movement much more realistic. <br>
                        <i>To make his model more or less floaty when turning, there is a t value in the code that can be increased or decreased to make him more or less floaty.</i>
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>
                        Not too many challenges came with this portion. I (Noah) had some experience from HW1 with orientation smoothing so I basically just used that code. <br>
                        The only thing I could call a challenge is that if you are moving the goal spaceship while the kiwi is moving towards it, he will occasionally spin fully around. <br>
                        I had this issue in HW1 as well with them randomly making a full spin and I'll use the same excuse here as to why its left in: its cute :p
                    </p>
                    <br>
                </div>
            </div>
            <p1 id="user"></p1>
        </article>

        <article>
            <div class="card">
                <h3 id="rendering">User Interaction</h3>
                <hr>
                <video controls autoplay loop muted src="../data/project1/" alt="demonstartion of single agent navigating through the scene" width="600" height="450"></video>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Features</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>

                    </p>
                    <br>
                </div>
            </div>
        </article>

        <article>
            <div class="card">
                <h3 id="rendering">Rendering: 3D, Models, Textures</h3>
                <hr>
                <video controls autoplay loop muted src="../data/project1/" alt="demonstartion of PRM.pde" width="600" height="450"></video>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Features</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>

                    </p>
                    <br>
                </div>
            </div>
        </article>

        <article>
            <div class="card">
                <h3 id="rendering">Rendering: Camera and Lights</h3>
                <hr>
                <video controls autoplay loop muted src="../data/project1/" alt="demonstartion of PRM.pde" width="600" height="450"></video>
                <br>

                <div class="container">
                    <h4>Overview</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Features</h4>
                    <p>
                        
                    </p>
                    <br>

                    <h4>Challenges</h4>
                    <p>

                    </p>
                    <br>
                </div>
            </div>
        </article>

        <!-- Credits -->
        <article>
            <div class="card">
                <h3 id="credits">Credits and Sources</h3>
                <hr>
                <div class="container">
                    <p>
                        <b>Website:</b> <br>
                        All credit goes to Lauren Oliver for layout and colors. <br>
                        (except the sticky header, that was Noah :p) <br>

                        <br>
                        
                        <b>Part #1: PRM</b> <br>
                        Credit to professor Guy for the starting code <br>
                        Credit to whatever website I looked at last year for my implementation of A* <br>

                        <br>

                        <b>Part #2: Navigation Simulation</b> <br>
                        Camera Code: Professor Guy (modified) <br>
                        Kiwi: Lauren Oliver <br>
                        Spaceship:<a href="https://www.cgtrader.com/free-3d-models/space/spaceship/free-flying-saucer">Free Flying Saucer</a> <br>
                        Cylinder:<a href="https://vormplus.be/full-articles/drawing-a-cylinder-with-processing">Drawing a Cylinder with Processing</a> <br>
                        Planet Textures:<a href="http://planetpixelemporium.com/planets.html">Planet Pixel Emporium</a> <br>
                        Black Hole Image:<a href="https://wallpaperaccess.com/full/476721.jpg">Some Wallpaper Site</a>
                    </p>
                    <br>
                </div>
            </div>
        </article>
    </section>
    <script src="../scripts/script.js"></script>
</body>

<footer>
    <a href="#top">Return to Top</a>
    <a href="../index.html">Return to Home</a>
</footer>

</html>